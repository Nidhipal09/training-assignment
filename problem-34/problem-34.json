[
  {
    "operation": "shift",
    "spec": {
      "name": "&",
      "*_1": "hobbies.1.&",
      "*_2": "hobbies.2.&"
    }
  },
  {
    "operation": "shift",
    "spec": {
      "name": "&",
      "hobbies": {
        "*": {
          "@": "hobbies[]"
        }
      }
    }
  },
  {
    "operation": "shift",
    "spec": {
      "name": "&",
      "hobbies": {
        "*": {
          "hobby_*": "hobbies[#2].name",
          "level_*": "hobbies[#2].level"
        }
      }
    }
  }
]